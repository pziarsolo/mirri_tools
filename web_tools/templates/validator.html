{% extends "base.html" %}
{% block title %} Mirri Validation tool {% endblock title %}
{% block navigator%} Mirri Validation tool{% endblock navigator%}
{% block page_title %} Mirri v20200601 specifications validator {% endblock page_title %}
{% block content %}
<div>
    <div class="info">
        <p>Please refer to this instructions to compile your excel file:</p>
        <ul>
            <li>
                <a href="https://synology.mirri.org:5019/d/f/585510897426937562" target="_blank" >HowToCompileTheSheets_v20200601.pdf</a>
            </li>
            <li>
                <a href="https://synology.mirri.org:5019/d/f/585510897965905633" target="_blank">RecommendationsToCollections_v20200601.pdf</a>
            </li>
        </ul>
        <p>You can also contact the MIRRI ICT by email using <a href="mailto:ict-support@mirri.org">ICT Support</a></p>
        <br />
    </div>

    {% if not validation_done %}
    <div>
        <form action="" enctype="multipart/form-data" method="post">
        {% csrf_token %}
        <ul>
            <li>{{ form.file.errors }}<label for="name"></label>{{ form.file }}</li>
            <li>
              {{ form.file.errors }}{{ form.do_upload }}
                <label for="name">Check it if you want to upload file if it fits the especifications</label>
            </li>
        </ul>
        <input type="submit" value="Validate" />
        </form>
    </div>
    {% endif%}
    {% if validation_done %}
        {% if valid %}
            <h3> Congratulations, Your file {{fname}} <span class="strong">complies</span> the mirri specs </h3>
        {% else %}

            <h3>The Excel File {{fname}} has errors</h3>
            <br />
            <button onclick="javascript:window.history.back();">Try again</button>
            <br />
            <h4>Check the error and fix them before submitting them again:</h4>


            <ul>
                {% for error in errors%}
                    <li>{{error.data}}: {{error.message}} ({{error.code}})</li>
                {% endfor %}
            </ul>
            {% if more_errors != 0%}
                <h4>You have more errors that we have hidden</h4>
            {% endif %}
        {% endif %}
    {% endif %}
</div>
{% endblock content %}
<li data-syno-style="{&quot;lineHeight&quot;:&quot;1&quot;,&quot;paddingBottom&quot;:&quot;&quot;,&quot;paddingTop&quot;:&quot;&quot;,&quot;paddingLeft&quot;:&quot;0pt&quot;,&quot;textAlign&quot;:&quot;center&quot;}" data-syno-marks="[{&quot;_&quot;:&quot;font_size&quot;,&quot;value&quot;:&quot;9pt&quot;},{&quot;_&quot;:&quot;font_family&quot;,&quot;value&quot;:&quot;Arial&quot;}]"><span data-syno-text="true">Public Deposit</span></li>